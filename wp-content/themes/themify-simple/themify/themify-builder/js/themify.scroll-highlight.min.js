'use strict';(function(y,c,w,f){let p=!1,d=null,q=!0,x=!0,u=!1,n=null;const h=Object.assign({speed:900,element:"module_row",offset:null,navigation:"#main-nav,.module-menu .nav",updateHash:!0},tbLocalScript.scrollHighlight),l=h.offset,k=w.top,m=f.getElementById("headerwrap"),v={init(a){q=null!==m&&c.body[0].classList.contains("fixed-header-enabled")||l;if(!1===u){const b=k.location.hash.replace("#","");if(b&&"#"!==b){let a=f.querySelector("."+h.element+'[data-anchor="'+b+'"]');if(null===a){const g=
["tab","accordion"];for(let e=g.length-1;-1<e;--e)if(a=f.querySelector("."+g[e]+'-content[data-id="'+b+'"]'),null!==a){a=a.closest(".module");let r=f.querySelector('a[href="#'+b+'"]');if(r&&a){const a=function(){r.click()};if(c.jsLazy["tb_"+g[e]])a();else c.on("tb_"+g[e]+"_init",function(){setTimeout(a,100)},!0);break}}}null!==a&&this.scrollTo(a,b)}u=!0}this.createObserver(a)},changeHash(){if(!1===p){const b=k.location.hash.replace("#",""),c=f.querySelectorAll(h.navigation);for(let g=c.length-1;-1<
g;--g){let e=c[g].getElementsByClassName("current-menu-item");for(var a=e.length-1;-1<a;--a)null===n&&(n=e[a].getElementsByTagName("a")[0].getAttribute("href")),e[a].classList.remove("current_page_item","current-menu-item");(e=""!==b&&"#"!==b?c[g].querySelectorAll('a[href*="#'+b+'"]'):null)&&0!==e.length||(e=c[g].querySelectorAll('a[href="'+n+'"]'));for(a=e.length-1;-1<a;--a){let b=e[a].parentNode;b.classList.add("current-menu-item");b.classList.contains("menu-item-object-page")&&b.classList.add("current_page_item")}}null===
n&&(n=k.location.href.split("#")[0])}},calculatePosition(a){a=y(a).offset().top+2;if(!0===q)if(l)a-=l-2;else if(m.classList.contains("fixed-header")){const b=m.getBoundingClientRect().bottom+2;a>=b&&(a-=b)}return a},scrollTo(a,b){p=!0;a.hasAttribute("tb_scroll_done")||(a.setAttribute("tb_scroll_done",1),c.lazyScroll(c.convert(c.selectWithParent("[data-lazy]",a)).reverse(),!0));const r=c.lazyScrolling,g=this,e=!1===u,f=function(){let f=a.closest("."+h.element).previousElementSibling,d=a.closest("."+
h.element).nextElementSibling;for(;null!==f||null!==d;)null!==f&&(f.classList.contains(h.element)?(c.lazyScroll(c.convert(c.selectWithParent("[data-lazy]",f)).reverse(),!0),f=null):f=f.previousElementSibling),null!==d&&(d.classList.contains(h.element)?(c.lazyScroll(c.convert(c.selectWithParent("[data-lazy]",d)).reverse(),!0),d=null):d=d.nextElementSibling);!0===q&&(l||m.classList.contains("fixed-header"))&&c.scrollTo(g.calculatePosition(a),h.speed);c.lazyScrolling=r;p=!1;!1===e&&k.history.replaceState(null,
null,"#"+b.replace("#",""));t()},d=!0!==q||m.classList.contains("fixed-header")&&!l?null:function(){(l||m.classList.contains("fixed-header"))&&c.scrollTo(g.calculatePosition(a),h.speed,f)};c.lazyScrolling=!0;c.scrollTo(g.calculatePosition(a),h.speed,f,d)},createObserver(a){if(h.updateHash){null===d&&(d=new w.IntersectionObserver(function(a,c){if(!1===p){c=!1;for(let b=0,e=a.length;b<e;++b)!0===a[b].isIntersecting&&(c=a[b].target.getAttribute("data-anchor"));!1===c?!1===x?k.history.replaceState(null,
null," "):x=!1:(k.history.replaceState(null,null,"#"+c),t())}},{rootMargin:"0px 0px -100%",thresholds:[0,1]}));a=c.selectWithParent(h.element,a);for(let b=a.length-1;-1<b;--b)if(!a[b].hasAttribute("data-hide-anchor")){let c=a[b].getAttribute("data-anchor");c&&"#"!==c&&d.observe(a[b])}}}},t=function(){v.changeHash()};c.on("tb_scroll_highlight_enable",function(){k.addEventListener("hashchange",t,{passive:!0});c.body.on("click.tb_scroll_highlight",'[href*="#"]',function(a){var b=this.getAttribute("href");
if(""!==b&&null!==b&&"#"!==b&&(b=new URL(b,k.location),b.hostname===k.location.hostname&&b.hash&&b.pathname===k.location.pathname&&(b=b.hash,""!==b&&"#"!==b))){const d=f.querySelector("."+h.element+'[data-anchor="'+b.replace("#","")+'"]');null!==d&&(a.preventDefault(),a.stopPropagation(),c.trigger("tf_side_menu_hide_all"),v.scrollTo(d,b))}})}).on("tb_scroll_highlight_disable",function(){d&&(d.disconnect(),d=null);k.removeEventListener("hashchange",t,{passive:!0});c.body.off("click.tb_scroll_highlight")}).on("tb_init_scroll_highlight",
function(a){v.init(a)}).trigger("tb_scroll_highlight_enable")})(jQuery,Themify,window,document);
